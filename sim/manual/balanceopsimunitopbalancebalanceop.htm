<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>BalanceOp - sim.unitop.Balance.BalanceOp</title>
<link rel="stylesheet" href="C1H_HTML.css" type="text/css">
<style type="text/css">
 p { margin-top: 0; margin-bottom: 0; }
</style>
<script language="JavaScript" src="DocToHelp.js"></script>
</head>
<body onload="d2hload()" onmousedown="d2hpopup()">
<div id=popupDiv>
<iframe onload="d2hframeload()" id=popupFrame frameborder=none scrolling=auto style="display:none">
</iframe>
</div>
<div id=ienav>
<ilayer id=nsnav>
<br>
<center>
<p class=normal><a href="s42-toc.htm" target="left">contents</a> &nbsp; <a href="s42-index.htm" target="left">index</a> &nbsp; <a href="unitoperations1.htm">previous</a> &nbsp; <a href="componentsplittersimunitopcomponentsplittercomponentsplitter.htm">next</a></p>
</center>
<br>
<hr noshade size=1>
</ilayer>
</div>
<p class=heading-3>BalanceOp - sim.unitop.Balance.BalanceOp</p>
<p class=heading-3-p>&nbsp;</p>
<p class=body-text>The BalanceOp unit operation performs material and energy stream balances using an arbitrary number of inlet and outlet material and energy streams.</p>
<p class=body-text>&nbsp;</p>
<p class=source>bal&nbsp;=&nbsp;Balance.BalanceOp()</p>
<p class=body-text>&nbsp;</p>
<table cellpadding=0 cellspacing=0 border=1 style="margin-left: -0.0159722in">
<tr>
<td valign=top style="width: 2.0625in">
<p class=tableheading>Item</p></td>
<td valign=top style="width: 2.6875in">
<p class=tableheading>Value</p></td>
</tr>
<tr>
<td valign=top style="width: 2.0625in">
<p class=tabletext>Sim42 File</p><p class=tabletext-p>&nbsp;</p>
</td>
<td valign=top style="width: 2.6875in">
<p class=tabletext>Balance.py</p><p class=tabletext-p>&nbsp;</p>
</td>
</tr>
<tr>
<td valign=top>
<p class=tabletext>Example</p><p class=tabletext-p>&nbsp;</p>
</td>
<td valign=top>
<p class=tabletext>molebal.tst</p><p class=tabletext-p>&nbsp;</p>
</td>
</tr>
<tr>
<td valign=top style="width: 2.0625in">
<p class=tabletext>Input Material Ports</p><p class=tabletext-p>&nbsp;</p>
</td>
<td valign=top style="width: 2.6875in">
<p class=tabletext>Variable, set by NumberStreamsInMat</p><p class=tabletext-p>&nbsp;</p>
</td>
</tr>
<tr>
<td valign=top style="width: 2.0625in">
<p class=tabletext>Output Material Ports</p><p class=tabletext-p>&nbsp;</p>
</td>
<td valign=top style="width: 2.6875in">
<p class=tabletext>Variable, set by NumberStreamsOutMat</p><p class=tabletext-p>&nbsp;</p>
</td>
</tr>
<tr>
<td valign=top style="width: 2.0625in">
<p class=tabletext>Input Energy Ports</p><p class=tabletext-p>&nbsp;</p>
</td>
<td valign=top style="width: 2.6875in">
<p class=tabletext>Variable, set by NumberStreamsInEne</p><p class=tabletext-p>&nbsp;</p>
</td>
</tr>
<tr>
<td valign=top style="width: 2.0625in">
<p class=tabletext>Output Energy Ports</p><p class=tabletext-p>&nbsp;</p>
</td>
<td valign=top style="width: 2.6875in">
<p class=tabletext>Variable, set by NumberStreamsOutEne</p><p class=tabletext-p>&nbsp;</p>
</td>
</tr>
<tr>
<td valign=top style="width: 2.0625in">
<p class=tabletext>NumberStreamsOutMat</p><p class=tabletext-p>&nbsp;</p>
</td>
<td valign=top style="width: 2.6875in">
<p class=tabletext>Number of material streams leaving the BalanceOp</p><p class=tabletext-p>&nbsp;</p>
</td>
</tr>
<tr>
<td valign=top>
<p class=tabletext>NumberStreamsInEne</p><p class=tabletext-p>&nbsp;</p>
</td>
<td valign=top>
<p class=tabletext>Number of energy streams entering the BalanceOp</p><p class=tabletext-p>&nbsp;</p>
</td>
</tr>
<tr>
<td valign=top>
<p class=tabletext>NumberStreamsInMat</p><p class=tabletext-p>&nbsp;</p>
</td>
<td valign=top>
<p class=tabletext>Number of material streams entering the BalanceOp</p><p class=tabletext-p>&nbsp;</p>
</td>
</tr>
<tr>
<td valign=top>
<p class=tabletext>NumberStreamsOutEne</p><p class=tabletext-p>&nbsp;</p>
</td>
<td valign=top>
<p class=tabletext>Number of energy streams leaving the BalanceOp</p><p class=tabletext-p>&nbsp;</p>
</td>
</tr>
<tr>
<td valign=top>
<p class=tabletext>BalanceType</p><p class=tabletext-p>&nbsp;</p>
</td>
<td valign=top>
<p class=tabletext>Type of balance to be performed</p>
<p class=tabletext-p>&nbsp;</p>
<p class=tabletext>MASS_BALANCE = 1</p>
<p class=tabletext-p>&nbsp;</p>
<p class=tabletext>MOLE_BALANCE = 2</p>
<p class=tabletext-p>&nbsp;</p>
<p class=tabletext>ENERGY_BALANCE = 4</p><p class=tabletext-p>&nbsp;</p>
</td>
</tr>
<tr>
<td valign=top style="width: 2.0625in">
<p class=tabletext>Equations</p><p class=tabletext-p>&nbsp;</p>
</td>
<td valign=top style="width: 2.6875in">
<p class=tabletext><img src="_s42-60.png"></p><p class=tabletext-p>&nbsp;</p>
</td>
</tr>
</table>
<p class=body-text>&nbsp;</p>
<table cellpadding=0 cellspacing=0 border=1 style="margin-left: 0in">
<tr>
<td valign=top style="width: 2in">
<p class=margin-note><img src="_s42-61.png"></p><p class=margin-note-p>&nbsp;</p>
</td>
<td valign=top style="width: 4.75in">
<p class=body-text>The balance type is actually a “bit mask”. If you want to perform mole and energy balances, the value of the BalanceType parameter is MOLE_BALANCE + ENERGY_BALANCE, and if you inspect the value of the BalanceType parameter when you create a brand new BalanceOp object you will notice that its value is 6</p></td>
</tr>
<tr>
<td valign=top>
<p class=margin-note><img src="_s42-62.png"></p><p class=margin-note-p>&nbsp;</p>
</td>
<td valign=top>
<p class=body-text>Note that the mass balance option balances only mass, not moles</p></td>
</tr>
</table>
<p class=source>#&nbsp;tests&nbsp;multivariable&nbsp;balance&nbsp;solution</p>
<p class=source>units&nbsp;SI</p>
<p class=source>thermo&nbsp;=&nbsp;VirtualMaterials.Peng-Robinson</p>
<p class=source>thermo&nbsp;+&nbsp;PROPANE&nbsp;n-BUTANE</p>
<p class=source>balance&nbsp;=&nbsp;Balance.BalanceOp()</p>
<p class=source>balance</p>
<p class=source>&nbsp;</p>
<p class=source>#&nbsp;set&nbsp;number&nbsp;of&nbsp;balance&nbsp;streams</p>
<p class=source>balance.NumberStreamsInMat&nbsp;=&nbsp;2</p>
<p class=source>balance.NumberStreamsOutMat&nbsp;=&nbsp;2</p>
<p class=source>&nbsp;</p>
<p class=source>#&nbsp;make&nbsp;it&nbsp;a&nbsp;mole&nbsp;balance&nbsp;(not&nbsp;that&nbsp;it&nbsp;matters&nbsp;in&nbsp;this&nbsp;case)</p>
<p class=source>balance.BalanceType&nbsp;=&nbsp;2</p>
<p class=source>&nbsp;</p>
<p class=source>#&nbsp;set&nbsp;compositions</p>
<p class=source>cd&nbsp;balance</p>
<p class=source>In0.Fraction&nbsp;=&nbsp;.3&nbsp;.7</p>
<p class=source>In1.Fraction&nbsp;=&nbsp;.4&nbsp;.6</p>
<p class=source>Out0.Fraction&nbsp;=&nbsp;.6&nbsp;.4</p>
<p class=source>Out1.Fraction&nbsp;=&nbsp;.8&nbsp;.2</p>
<p class=source>&nbsp;</p>
<p class=source>#&nbsp;give&nbsp;two&nbsp;flows&nbsp;-&nbsp;other&nbsp;two&nbsp;should&nbsp;be&nbsp;calculated</p>
<p class=source>In0.MoleFlow&nbsp;=&nbsp;1000</p>
<p class=source>Out0.MoleFlow&nbsp;=&nbsp;1500</p>
<p class=source>&nbsp;</p>
<p class=source>#&nbsp;and&nbsp;they&nbsp;are</p>
<p class=source>In1.MoleFlow</p>
<p class=source>Out1.MoleFlow</p>
<p class=source>&nbsp;</p>
<p class=body-text>Example &#8211; BalanceOp Unit Operation</p>
<p></p>
</body>
</html>